<header class="header">
{# TODO: DRY code in shoplist link #}
  <nav class="nav">
      <div class="nav__container container">
        <ul class="nav__items list">
          <li class="nav__item" name="/"><a href="{% url 'recipes:index' %}" class="nav__link link">Рецепты</a></li>
{% if user.is_authenticated %}
              <li class="nav__item" name="/feed/"><a href="{% url 'recipes:feed-recipes' %}" class="nav__link link">Мои подписки</a></li>
              <li class="nav__item" name="/new/"><a href="{% url 'recipes:recipe-create' %}" class="nav__link link">Создать рецепт</a></li>
              <li class="nav__item" name="/favorites/"><a href="{% url 'recipes:favorite-recipes' %}" class="nav__link link">Избранное</a></li>
              <li class="nav__item" name="/shoplist/"><a href="{% url 'recipes:shop-list' %}" class="nav__link link">Список покупок</a> <span class="badge badge_style_blue nav__badge" id="counter">{{ cart_count }}</span></li>
        </ul>
        <ul class="nav__items list">
          <li class="nav__item" name="/user/auth/password_change/"><a href="{% url 'password_change' %}" class="nav__link link">Изменить пароль</a></li>
          <li class="nav__item"><a href="{% url 'logout' %}" class="nav__link link">Выход ({{ user.username }})</a></li>
{% else %}

          <li class="nav__item nav__item_disabled" name="/shoplist/"><a href="#" class="nav__link link">Список покупок <span class="badge badge_style_blue nav__badge" id="counter">{{ cart_count }}</span></a></li>
      </ul>
        <ul class="nav__items list">
          <li class="nav__item" name="/user/auth/login/"><a href="{% url 'login' %}" class="nav__link link">Войти</a></li>
          <li class="nav__item"><a href="{% url 'signup' %}" class="button button_style_blue">Создать аккаунт</a></li>
{% endif %}
        </ul>
    </div>
  </nav>
</header>
<script>
  function styleHeader() {
    pageID = window.location.pathname;
    try {
      document.querySelector(`[name="${pageID}"]`).classList.add('nav__item_active')
    } catch(e) {}
  }
  document.addEventListener("DOMContentLoaded", styleHeader);
</script>